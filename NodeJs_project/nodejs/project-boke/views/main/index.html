
{% extends 'layout.html' %}

{% block content %}
{% for content in contents %}
            <div class="listBox">
                <h1>{{content.title}}</h1>
                <p class="colDefault">
                    作者：<span class="colInfo">{{content.user.username}}</span> - 
                    时间：<span class="colInfo">{{content.addTime | date('Y-m-d H:i:s',-8*60)}}</span> - 
                    阅读：<span class="colInfo">{{content.views}}</span> - 
                    评论：<span class="colInfo">{{content.comments.length}}</span>
                </p>
                <dfn><p>{{content.description}}</p></dfn>
                <div class="function"><a href="/view?contentid={{content.id}}">阅读全文</a></div>
            </div>
            {% endfor %}
           
            

            <div class="pager">
            	<ul class="clear">
            		
            		<li class="previous">
                        {% if page<=1 %}
                        <span>没有上一页了</span>
                        {% else %}
                        <!-- 当前页面已经可以获取到category分类id 点击上一页或者下一页把这个再传过去才可以保证渲染是同一个分类，不能第二页全部渲染出来 -->
                        <a href="/?category={{category}}&page={{page-1}}">上一页</a>
                        {% endif %}
            			
            		
            		</li>

            		<li>
                        {% if pages>0 %}
                        <strong>{{page}} / {{pages}}</strong>
                        {% else %}
                        <strong>当前分页下没有内容</strong>
                        {% endif %}
            		</li>

            		<li class="next">
            		
            			{% if page>=pages %}
                        <span>没有下一页了</span>
                        {% else %}
                        <a href="/?category={{category}}&page={{page+1}}">下一页</a>
                        {% endif %}
            		
            		</li>
            		
            	</ul>
            </div>
        </div>
{% endblock %}